<!DOCTYPE html>
<html>
	<head>
		<title>Hello</title>
		<meta property="al:ios:url" content="snssdk11801://aweme/detail/7425105111053012231" data-rh="true">
		<meta property="al:android:url" content="snssdk11801://aweme/detail/7425105111053012231" data-rh="true">
		<meta property="al:web:url" content="https://mylananh.github.io" />
		<meta property="al:web:should_fallback" content="true" />
	</head>
	<body>
		<h1>Hello world</h1>
<!-- 		<div>Countdown to redirect to coin page <span id="time">3</span></div> -->
		<button onclick="jump()">Jump to browser</button>
<div id="fb-root"></div>
		<div class="fb-login-button" data-width="" data-size="" data-button-type="" data-layout="" data-auto-logout-link="false" data-use-continue-as="false"></div>
		<script type="text/javascript">
			// let retry = 0;
			// function isInApp(appSpecificUserAgents) {
			// 	var userAgent = navigator.userAgent || navigator.vendor || window.opera;
			// 	for (i = 0; i <= appSpecificUserAgents.length; i++) {
			// 		if (userAgent.indexOf(appSpecificUserAgents[i]) > -1) return true;
			// 	}
			// }
			// const intervalId = setInterval(() => {
			// 	retry++;
			// 	if (retry === 3) {
			// 		clearInterval(intervalId);
			// 		if (isInApp(["FBAN", "FBAV"])) {
			// 			location.href = "com-apple-mobilesafari-tab:https://www.tiktok.com/coin"
			// 		}
			// 	}
			// 	document.getElementById('time').innerHTML = String(3 - retry);
			// }, 1000);
			
			function jump() {
			    var url = "https://tiktok.com/coin";

// Check if running inside Facebook WebView
var ua = navigator.userAgent || navigator.vendor;
var isFBWebView = ua.includes("FBAN") || ua.includes("FBAV");

if (isFBWebView) {
    if (/Android/i.test(ua)) {
        // Android: Force open in Chrome using Chrome's URL scheme
        window.location.href = "googlechromes://" + url.replace(/^https?:\/\//, "");
        
        // Fallback to intent in case googlechrome:// doesn't work
        // setTimeout(function() {
        //     window.location.href = "intent://" + url.replace(/^https?:\/\//, "") +
        //                            "#Intent;scheme=https;package=com.android.chrome;end;";
        // }, 1000);
        
    } else if (/iPhone|iPad|iPod/i.test(ua)) {
        // iOS: Use x-safari-https to force open Safari
        window.location.href = "x-safari-https://" + url.replace(/^https?:\/\//, "");
        
        // Fallback in case x-safari-https fails
        // setTimeout(function() {
        //     window.location.href = url;
        // }, 1000);
    }
} else {
    // Default behavior if not in WebView
    window.open(url, "_blank");
}
			}
		</script>
		<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '999247325599620',
      cookie     : true,
      xfbml      : true,
    });
      
    FB.AppEvents.logPageView();   
      
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v22.0&appId=999247325599620";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
		<script>
			
function checkLoginState() {
  FB.getLoginStatus(function(response) {
	console.log("my login state", response);
  });
}
		</script>
	</body>
</html>
